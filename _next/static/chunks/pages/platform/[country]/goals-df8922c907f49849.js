(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{407:function(e,t,n){"use strict";var r=n(1925),a=n(1664),o=n.n(a),i=n(7964),s=n(5893);t.Z=function(e){var t=e.framework,n=e.goal,a=e.slug;return(0,s.jsx)(o(),{href:"south-africa"===a?"/platform/".concat(a,"/goals/").concat(t,"/").concat(n.goalId):"/platform/".concat(a,"/goals/").concat(n.goalId),children:(0,s.jsx)("a",{children:t===r.Bx.SDG?(0,s.jsx)("img",{className:"cursor-pointer hover:opacity-70 active:opacity-100",src:"/media/sdg-icons/_".concat(n.goalId,".svg")}):(0,s.jsx)(i.Tooltip,{position:"top",arrow:!0,size:"big",html:(0,s.jsx)("div",{className:"text-left",children:(0,s.jsxs)("h3",{className:"flex items-center text-xl font-bold uppercase font-SDGSans",children:[n.desc," "]})}),children:(0,s.jsx)("img",{className:"cursor-pointer hover:opacity-70 active:opacity-100",src:"/".concat(t,"-icons/").concat((0,r.ji)(n.goalId),".png")})})})},"sdg-".concat(n.goalId))}},9498:function(e,t,n){"use strict";n.d(t,{Bl:function(){return i},_M:function(){return s},_Q:function(){return c},s$:function(){return l}});var r=n(4184),a=n.n(r),o=n(5893),i=function(e){var t=e.className;return(0,o.jsx)("svg",{"aria-hidden":!0,focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:a()("inline",t),children:(0,o.jsx)("path",{fill:"currentColor",d:"M477.5 273L283.1 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.7-22.7c-9.4-9.4-9.4-24.5 0-33.9l154-154.7-154-154.7c-9.3-9.4-9.3-24.5 0-33.9l22.7-22.7c9.4-9.4 24.6-9.4 33.9 0L477.5 239c9.3 9.4 9.3 24.6 0 34zm-192-34L91.1 44.7c-9.4-9.4-24.6-9.4-33.9 0L34.5 67.4c-9.4 9.4-9.4 24.5 0 33.9l154 154.7-154 154.7c-9.3 9.4-9.3 24.5 0 33.9l22.7 22.7c9.4 9.4 24.6 9.4 33.9 0L285.5 273c9.3-9.4 9.3-24.6 0-34z"})})},s=function(e){var t=e.className;return(0,o.jsx)("svg",{"aria-hidden":!0,focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",className:a()("inline",t),viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})},l=function(e){var t=e.className;return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t,children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})},c=function(e){var t=e.className;return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t,children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}},3769:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(7294);function a(){var e=(0,r.useState)({width:void 0,height:void 0}),t=e[0],n=e[1];return(0,r.useEffect)((function(){function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}},4604:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return w},default:function(){return S}});var r=n(1664),a=n.n(r),o=n(4563),i=n(1925),s=n(9498),l=n(7294),c=n(4298),u=n.n(c),d=n(3760),f=n(407),p=n(2870),v=n(1077),h=n(3769),x=n(5893);function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n=e.indicators,r=(0,l.useRef)(),a=(0,l.useRef)(),o=(0,l.useState)(),i=o[0],s=o[1],c=(0,l.useState)(),u=c[0],d=c[1],f=(0,h.w)(),g={},b={},y={},w=m(n);try{for(w.s();!(t=w.n()).done;){var S,R=t.value,D=R.id.split(".")[0];if(g[D]||(g[D]=new Set),(null===(S=R.sources)||void 0===S?void 0:S.length)>0){var I,j=m(R.sources);try{for(j.s();!(I=j.n()).done;){var O=I.value;g[D].add(O.replace(/\n/,"<br/>")),b["".concat(D,"-").concat(O)]||(b["".concat(D,"-").concat(O)]=0),y["".concat(D,"-").concat(O)]||(y["".concat(D,"-").concat(O)]=[]),y["".concat(D,"-").concat(O)].push(R.id),b["".concat(D,"-").concat(O)]++}}catch(T){j.e(T)}finally{j.f()}}}}catch(T){w.e(T)}finally{w.f()}for(var A={name:"IIF",children:[]},E=function(){var e=k[N];A.children.push({name:"Goal ".concat(e),children:Array.from(g[e]).map((function(t){return{name:t,goal:e,value:b["".concat(e,"-").concat(t)]}}))})},N=0,k=Object.keys(g);N<k.length;N++)E();function C(){var e=p.select("#container").append("div").style("position","absolute").style("border-radius","3").style("padding","0.5em 2em").style("text-align","center").style("box-shadow","0 0 3px black").style("opacity","0").style("visibility","hidden").style("transition","opacity 300ms, background 300ms"),t=p.select(r.current);t.selectAll("g").remove();var n=p.select(a.current);n.selectAll("g").remove(),t.attr("width",i).attr("height",u);var o=p.hierarchy(A).sum((function(e){return e.value})).sort((function(e,t){return t.value-e.value})),s=p.treemap().size([i,u]).padding(1)(o),l=t.selectAll("g").data(s.leaves()).join("g").attr("transform",(function(e){return"translate(".concat(e.x0,",").concat(e.y0,")")}));l.append("rect").attr("width",(function(e){return e.x1-e.x0})).attr("height",(function(e){return e.y1-e.y0})).attr("fill",(function(e){return v.NG[e.data.goal-1]})).on("mousemove",(function(t,n){e.html(function(e){var t;return"<div style='color: ".concat(v.NG[e.data.goal-1],"'>Goal ").concat(e.data.goal,"</div><div><b>").concat(e.data.name,"</b></div><div><i>").concat(null===(t=y[e.data.goal+"-"+e.data.name])||void 0===t?void 0:t.join(", "),"</i></div>")}(n)).attr("data-value",n.data.value).style("top",t.pageY+20+"px").style("left",t.pageX+"px").style("background","white").style("opacity",.95).style("visibility","visible")})).on("mouseout",(function(){e.style("opacity",0).style("visibility","hidden")}));var c=12;l.append("text").text((function(e){return"".concat(e.data.name)})).attr("data-width",(function(e){return e.x1-e.x0})).attr("font-size","".concat(c,"px")).attr("x",3).attr("y",c).style("fill","white").call((function(e){e.each((function(){for(var e,t=p.select(this),n=+t.attr("data-width"),r=t.text().split(" ").reverse(),a=[],o=0,i=t.attr("x"),s=t.attr("y"),l=t.text("").append("tspan").attr("x",i).attr("y",s);r.length>1;){e=r.pop(),a.push(e),l.text(a.join(" ")),l.node().getComputedTextLength()>n&&1!==a.length&&(a.pop(),l.text(a.join(" ")),a=[e],l=u(e))}function u(e){return o+=1,t.append("tspan").attr("x",i).attr("y",s).attr("dy","".concat(o*c,"px")).text(e)}u(r.pop())}))}));var d=o.leaves().map((function(e){return e.data.goal}));d=d.filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return+e-+t})).map((function(e){return{name:"Goal ".concat(e),pos:e-1}})),n.attr("width",i).attr("height",60);var f=n.selectAll("g").data(d).join("g");f.append("rect").attr("width",c).attr("height",c).attr("x",(function(e,t){return 60*t})).attr("y",6).attr("fill",(function(e){return v.NG[e.pos]})),f.append("text").attr("transform","translate(0, ".concat(c,")")).attr("x",(function(e,t){return 60*t})).attr("y",30).style("font-size",c).text((function(e){return e.name}))}var L=function(){var e,t,n,r,a,o,i,l;s(parseInt(null!==(e=null===(t=p.select("#viz-panel"))||void 0===t||null===(n=t.node())||void 0===n||null===(r=n.getBoundingClientRect())||void 0===r?void 0:r.width)&&void 0!==e?e:100,10)),d(parseInt(null!==(a=null===(o=p.select("#viz-panel"))||void 0===o||null===(i=o.node())||void 0===i||null===(l=i.getBoundingClientRect())||void 0===l?void 0:l.height)&&void 0!==a?a:100,10))};return(0,l.useEffect)((function(){C()}),[i,u,n]),(0,l.useEffect)((function(){L()}),[f]),(0,l.useEffect)((function(){L()}),[]),i&&u?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{id:"container"}),(0,x.jsx)("svg",{ref:a}),(0,x.jsx)("svg",{ref:r})]}):(0,x.jsx)(x.Fragment,{})}var y={iif:"The Integrated Indicator Framework (IIF) summarizes all data that is needed to report on policy agendas at the global, continental, regional and national and subnational levels in South Africa. The IIF is the central planning tool to make sure that data supply meets data demands in South Africa.",agenda2063:"AGENDA 2063 is Africa\u2019s blueprint and master plan for transforming Africa into the global powerhouse of the future. It is the concrete manifestation of how the continent intends to achieve this vision within a 50-year period from 2013 to 2063.",risdp:"The Regional Indicative Strategic Development Plan (RISDP) is a comprehensive development and implementation framework guiding the Regional Integration agenda of the Southern African Development Community (SADC) over a period of fifteen years (2005-2020). It is designed to provide clear strategic direction with respect to SADC programmes, projects and activities in line with the SADC Common Agenda and strategic priorities, as enshrined in the SADC Treaty of 1992.",ndp:"The National Development Plan is a plan for the country to eliminate poverty and reduce inequality by 2030 through uniting South Africans, unleashing the energies of its citizens, growing an inclusive economy, building capabilities, enhancing the capability of the state and leaders working together to solve complex problems."},w=!0,S=function(e){var t,n,r,c=e.country,p=e.slug,v=e.data,h=e.indicators,m=e.cmsData,g=(0,l.useState)(i.Bx.IIF),w=g[0],S=g[1];(0,l.useEffect)((function(){"south-africa"!==p&&S(i.Bx.SDG)}),[p]);var R=i.Ec.find((function(e){return e.key===w})).shortName;return(0,x.jsxs)("article",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 lg:px-10 xl:px-12",children:[(0,x.jsx)(u(),{src:"https://public.flourish.studio/resources/embed.js"}),(0,x.jsxs)("header",{className:"mb-6 justify-self-center space-y-6 flex justify-between",children:[(0,x.jsxs)("h1",{className:"text-6xl font-extrabold uppercase font-SDGSans sm:text-8xl lg:mt-8",children:["The ","south-africa"===p?R:"SDGs"," in",(0,x.jsx)("br",{}),c]}),(0,x.jsx)("img",{className:"h-52 hidden md:block",src:w===i.Bx.SDG?"/media/frameworks/SDG2.png":"/media/frameworks/".concat(w.toUpperCase(),".png")})]}),"south-africa"===p&&(0,x.jsx)(d.dq,{framework:w,setSelected:S}),(0,x.jsxs)("div",{className:"flex flex-col w-full mt-8 space-y-4 md:space-y-6 lg:space-y-0 lg:flex-row lg:space-between",children:[(0,x.jsx)("div",{className:"w-full",children:(0,x.jsx)("p",{className:"max-w-md text-lg sm:pr-8 sm:max-w-xl md:max-w-2xl sm:text-xl",children:null!==(t=null!==(n=null===m||void 0===m?void 0:m.description)&&void 0!==n?n:y[w])&&void 0!==t?t:"In 2015, world leaders agreed to 17 goals for a better world by 2030. These goals have the power to end\n\t\t\t\tpoverty, fight inequality and stop climate change. Guided by the goals, it is now up to all of us,\n\t\t\t\tgovernments, businesses, civil society and the general public to work together to build a better future for\n\t\t\t\teveryone."})}),(0,x.jsxs)("div",{className:"flex flex-col justify-end flex-shrink-0 text-lg text-gray-500 sm:text-xl  space-y-2",children:[(0,x.jsx)(a(),{href:"south-africa"===p?"/platform/".concat(p,"/frameworks/").concat(w):"/platform/".concat(p,"/frameworks"),children:(0,x.jsxs)("a",{className:"flex items-center space-x-1 hover:text-gray-400",children:[(0,x.jsx)(s.Bl,{className:"w-4 h-4"}),(0,x.jsxs)("span",{children:[R," related policies in ",c]})]})}),(0,x.jsx)(a(),{href:"south-africa"===p?"/platform/".concat(p,"/scorecard?framework=").concat(w," "):"/platform/".concat(p,"/scorecard"),children:(0,x.jsxs)("a",{className:"flex items-center space-x-1 hover:text-gray-400",children:[(0,x.jsx)(s.Bl,{className:"w-4 h-4"}),(0,x.jsxs)("span",{children:["Data coverage in ",c]})]})}),(0,x.jsx)(a(),{href:"south-africa"===p?"/platform/".concat(p,"/data?framework=").concat(w," "):"/platform/".concat(p,"/data"),children:(0,x.jsxs)("a",{className:"flex items-center space-x-1 hover:text-gray-400",children:[(0,x.jsx)(s.Bl,{className:"w-4 h-4"}),(0,x.jsx)("span",{children:"Download all data"})]})})]})]}),(0,x.jsxs)("section",{className:"mt-12 mb-16",children:[(0,x.jsx)(o.Z,{children:"Sustainable Development Goals"}),(0,x.jsx)("div",{className:"max-w-xs mx-auto grid grid-cols-1 sm:mx-0 sm:max-w-none sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:null===(r=v[w])||void 0===r?void 0:r.map((function(e,t){return(0,x.jsx)(f.Z,{framework:w,goal:{goalId:e["Goal Id"],desc:e.Goal},slug:p},t)}))})]}),"south-africa"===p&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:"font-SDGSans uppercase text-5xl mt-16",children:"DATA PROVIDERS AND DATA SOURCES IN SOUTH AFRICA"}),(0,x.jsx)("div",{id:"viz-panel",className:"mt-6",style:{width:"100%",minHeight:1e3},children:(0,x.jsx)(b,{indicators:h.iif})})]})]})}},1077:function(e,t,n){"use strict";n.d(t,{Ko:function(){return o},MV:function(){return r},NG:function(){return a},_$:function(){return s},xM:function(){return i}});var r=["#e5243b","#DDA63A","#4C9F38","#C5192D","#FF3A21","#26BDE2","#FCC30B","#A21942","#FD6925","#DD1367","#FD9D24","#BF8B2E","#3F7E44","#0A97D9","#56C02B","#00689D","#19486A"],a=["#C31A2D","#DDA33A","#4F9D38","#C51A2D","#FE3A22","#25BDE2","#FDC20C","#A21A42","#FC6925","#DE1269","#DEA53A","#FC6925","#417C46","#0B97DB","#4F9D38","#00689D","#2B5F85"],o=["#E9532E","#E9532E","#E9532E","#E9532E","#E9532E","#E9532E","#E9532E","#4D529C","#4D529C","#4D529C","#95408F","#95408F","#169687","#169687","#169687","#F9C30A","#E32161","#E32161","#603543","#603543"],i={sdg:"#19486A",ndp:"#0456a4",risdp:"#56C02B",agenda2063:"#BF8B2E"};function s(e,t){var n=!1;"#"==e[0]&&(e=e.slice(1),n=!0);var r=parseInt(e,16),a=(r>>16)+t;a>255?a=255:a<0&&(a=0);var o=(r>>8&255)+t;o>255?o=255:o<0&&(o=0);var i=(255&r)+t;return i>255?i=255:i<0&&(i=0),(n?"#":"")+(i|o<<8|a<<16).toString(16)}},7878:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/platform/[country]/goals",function(){return n(4604)}])},4298:function(e,t,n){e.exports=n(2189)},9949:function(e,t,n){"use strict";n.d(t,{R:function(){return V}});var r=n(7294),a=n(4192),o=n(9946),i=n(6723),s=n(3855);function l(e,t){let[n,a]=(0,r.useState)(e),o=(0,s.E)(e);return(0,i.e)((()=>a(o.current)),[o,a,...t]),n}var c=n(3784),u=n(2351),d=n(2984),f=n(9362),p=n(1363);var v,h=((v=h||{})[v.First=0]="First",v[v.Previous=1]="Previous",v[v.Next=2]="Next",v[v.Last=3]="Last",v[v.Specific=4]="Specific",v[v.Nothing=5]="Nothing",v);function x(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),a=null!=r?r:-1,o=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,r)=>!(-1!==a&&r.length-n-1>=a)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=a)&&!t.resolveDisabled(e)));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===o?r:o}var m,g,b=n(4103),y=n(4575),w=n(6567),S=n(4157),R=n(292),D=n(6045),I=n(8689),j=n(5466),O=n(3781),A=((g=A||{})[g.Open=0]="Open",g[g.Closed=1]="Closed",g),E=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(E||{}),N=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(N||{}),k=((m=k||{})[m.OpenListbox=0]="OpenListbox",m[m.CloseListbox=1]="CloseListbox",m[m.SetDisabled=2]="SetDisabled",m[m.SetOrientation=3]="SetOrientation",m[m.GoToOption=4]="GoToOption",m[m.Search=5]="Search",m[m.ClearSearch=6]="ClearSearch",m[m.RegisterOption=7]="RegisterOption",m[m.UnregisterOption=8]="UnregisterOption",m);function C(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=(0,y.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=n?r.indexOf(n):null;return-1===a&&(a=null),{options:r,activeOptionIndex:a}}let L={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:a}=e.propsRef.current,o=e.options.findIndex((e=>{let t=e.dataRef.current.value;return(0,d.E)(r,{1:()=>n.some((e=>a(e,t))),0:()=>a(n,t)})}));return-1!==o&&(t=o),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var n;if(e.disabled||1===e.listboxState)return e;let r=C(e),a=x(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(n=t.trigger)?n:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),o=a?e.options.indexOf(a):-1;return-1===o||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=C(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:a,mode:o,compare:i}=e.propsRef.current,s=t.dataRef.current.value;(0,d.E)(o,{1:()=>a.some((e=>i(e,s))),0:()=>i(a,s)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},8:(e,t)=>{let n=C(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},T=(0,r.createContext)(null);function F(e){let t=(0,r.useContext)(T);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,F),t}return t}function P(e,t){return(0,d.E)(t.type,L,e,t)}T.displayName="ListboxContext";let B=r.Fragment,z=(0,u.yV)((function(e,t){let{value:n,name:a,onChange:o,disabled:s=!1,horizontal:l=!1,multiple:f=!1,...p}=e;const v=l?"horizontal":"vertical";let h=(0,c.T)(t),x=(0,r.useReducer)(P,{listboxState:1,propsRef:{current:{value:n,onChange:o,mode:f?1:0,compare:(0,O.z)(((e,t)=>e===t))}},labelRef:(0,r.createRef)(),buttonRef:(0,r.createRef)(),optionsRef:(0,r.createRef)(),disabled:s,orientation:v,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:m,propsRef:g,optionsRef:b,buttonRef:S},j]=x;g.current.value=n,g.current.mode=f?1:0,(0,i.e)((()=>{g.current.onChange=e=>(0,d.E)(g.current.mode,{0:()=>o(e),1(){let t=g.current.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),o(t)}})}),[o,g]),(0,i.e)((()=>j({type:2,disabled:s})),[s]),(0,i.e)((()=>j({type:3,orientation:v})),[v]),(0,R.O)([S,b],((e,t)=>{var n;j({type:1}),(0,y.sP)(t,y.tJ.Loose)||(e.preventDefault(),null==(n=S.current)||n.focus())}),0===m);let A=(0,r.useMemo)((()=>({open:0===m,disabled:s})),[m,s]),E={ref:h};return r.createElement(T.Provider,{value:x},r.createElement(w.up,{value:(0,d.E)(m,{0:w.ZM.Open,1:w.ZM.Closed})},null!=a&&null!=n&&(0,I.t)({[a]:n}).map((([e,t])=>r.createElement(D._,{features:D.A.Hidden,...(0,u.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,u.sY)({ourProps:E,theirProps:p,slot:A,defaultTag:B,name:"Listbox"})))})),G=(0,u.yV)((function(e,t){var n;let[i,s]=F("Listbox.Button"),d=(0,c.T)(i.buttonRef,t),f=`headlessui-listbox-button-${(0,o.M)()}`,v=(0,a.G)(),x=(0,O.z)((e=>{switch(e.key){case p.R.Space:case p.R.Enter:case p.R.ArrowDown:e.preventDefault(),s({type:0}),v.nextFrame((()=>{i.propsRef.current.value||s({type:4,focus:h.First})}));break;case p.R.ArrowUp:e.preventDefault(),s({type:0}),v.nextFrame((()=>{i.propsRef.current.value||s({type:4,focus:h.Last})}))}})),m=(0,O.z)((e=>{if(e.key===p.R.Space)e.preventDefault()})),g=(0,O.z)((e=>{if((0,b.P)(e.currentTarget))return e.preventDefault();0===i.listboxState?(s({type:1}),v.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),s({type:0}))})),y=l((()=>{if(i.labelRef.current)return[i.labelRef.current.id,f].join(" ")}),[i.labelRef.current,f]),w=(0,r.useMemo)((()=>({open:0===i.listboxState,disabled:i.disabled})),[i]),R=e,D={ref:d,id:f,type:(0,S.f)(e,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.listboxState,"aria-labelledby":y,disabled:i.disabled,onKeyDown:x,onKeyUp:m,onClick:g};return(0,u.sY)({ourProps:D,theirProps:R,slot:w,defaultTag:"button",name:"Listbox.Button"})})),M=(0,u.yV)((function(e,t){let[n]=F("Listbox.Label"),a=`headlessui-listbox-label-${(0,o.M)()}`,i=(0,c.T)(n.labelRef,t),s=(0,O.z)((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),l=(0,r.useMemo)((()=>({open:0===n.listboxState,disabled:n.disabled})),[n]);return(0,u.sY)({ourProps:{ref:i,id:a,onClick:s},theirProps:e,slot:l,defaultTag:"label",name:"Listbox.Label"})})),_=u.AN.RenderStrategy|u.AN.Static,U=(0,u.yV)((function(e,t){var n;let[i,s]=F("Listbox.Options"),v=(0,c.T)(i.optionsRef,t),x=`headlessui-listbox-options-${(0,o.M)()}`,m=(0,a.G)(),g=(0,a.G)(),b=(0,w.oJ)(),y=null!==b?b===w.ZM.Open:0===i.listboxState;(0,r.useEffect)((()=>{var e;let t=i.optionsRef.current;!t||0===i.listboxState&&t!==(null==(e=(0,j.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[i.listboxState,i.optionsRef]);let S=(0,O.z)((e=>{switch(g.dispose(),e.key){case p.R.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),s({type:5,value:e.key});case p.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==i.activeOptionIndex){let{dataRef:e}=i.options[i.activeOptionIndex];i.propsRef.current.onChange(e.current.value)}0===i.propsRef.current.mode&&(s({type:1}),(0,f.k)().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,d.E)(i.orientation,{vertical:p.R.ArrowDown,horizontal:p.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:h.Next});case(0,d.E)(i.orientation,{vertical:p.R.ArrowUp,horizontal:p.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:h.Previous});case p.R.Home:case p.R.PageUp:return e.preventDefault(),e.stopPropagation(),s({type:4,focus:h.First});case p.R.End:case p.R.PageDown:return e.preventDefault(),e.stopPropagation(),s({type:4,focus:h.Last});case p.R.Escape:return e.preventDefault(),e.stopPropagation(),s({type:1}),m.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case p.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s({type:5,value:e.key}),g.setTimeout((()=>s({type:6})),350))}})),R=l((()=>{var e,t,n;return null!=(n=null==(e=i.labelRef.current)?void 0:e.id)?n:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),D=(0,r.useMemo)((()=>({open:0===i.listboxState})),[i]),I=e,A={"aria-activedescendant":null===i.activeOptionIndex||null==(n=i.options[i.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===i.propsRef.current.mode||void 0,"aria-labelledby":R,"aria-orientation":i.orientation,id:x,onKeyDown:S,role:"listbox",tabIndex:0,ref:v};return(0,u.sY)({ourProps:A,theirProps:I,slot:D,defaultTag:"ul",features:_,visible:y,name:"Listbox.Options"})})),Q=(0,u.yV)((function(e,t){let{disabled:n=!1,value:a,...s}=e,[l,p]=F("Listbox.Option"),v=`headlessui-listbox-option-${(0,o.M)()}`,x=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===v,{value:m,compare:g}=l.propsRef.current,b=(0,d.E)(l.propsRef.current.mode,{1:()=>m.some((e=>g(e,a))),0:()=>g(m,a)}),y=(0,r.useRef)(null),w=(0,c.T)(t,y);(0,i.e)((()=>{if(0!==l.listboxState||!x||0===l.activationTrigger)return;let e=(0,f.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=y.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[y,x,l.listboxState,l.activationTrigger,l.activeOptionIndex]);let S=(0,r.useRef)({disabled:n,value:a,domRef:y});(0,i.e)((()=>{S.current.disabled=n}),[S,n]),(0,i.e)((()=>{S.current.value=a}),[S,a]),(0,i.e)((()=>{var e,t;S.current.textValue=null==(t=null==(e=y.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[S,y]);let R=(0,O.z)((()=>l.propsRef.current.onChange(a)));(0,i.e)((()=>(p({type:7,id:v,dataRef:S}),()=>p({type:8,id:v}))),[S,v]);let D=(0,O.z)((e=>{if(n)return e.preventDefault();R(),0===l.propsRef.current.mode&&(p({type:1}),(0,f.k)().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),I=(0,O.z)((()=>{if(n)return p({type:4,focus:h.Nothing});p({type:4,focus:h.Specific,id:v})})),j=(0,O.z)((()=>{n||x||p({type:4,focus:h.Specific,id:v,trigger:0})})),A=(0,O.z)((()=>{n||!x||p({type:4,focus:h.Nothing})})),E=(0,r.useMemo)((()=>({active:x,selected:b,disabled:n})),[x,b,n]);return(0,u.sY)({ourProps:{id:v,ref:w,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===b||void 0,disabled:void 0,onClick:D,onFocus:I,onPointerMove:j,onMouseMove:j,onPointerLeave:A,onMouseLeave:A},theirProps:s,slot:E,defaultTag:"li",name:"Listbox.Option"})})),V=Object.assign(z,{Button:G,Label:M,Options:U,Option:Q})},8689:function(e,t,n){"use strict";function r(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))o(n,a(t,r),i);return n}function a(e,t){return e?e+"["+t+"]":t}function o(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())o(e,a(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):r(n,t,e)}function i(e){var t;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n)for(let r of n.elements)if("INPUT"===r.tagName&&"submit"===r.type||"BUTTON"===r.tagName&&"submit"===r.type||"INPUT"===r.nodeName&&"image"===r.type)return void r.click()}n.d(t,{g:function(){return i},t:function(){return r}})}},function(e){e.O(0,[964,870,760,774,888,179],(function(){return t=7878,e(e.s=t);var t}));var t=e.O();_N_E=t}]);